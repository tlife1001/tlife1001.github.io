<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thiệp Cưới - Thanh & Thanh</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Montserrat:wght@400;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Music Control -->
    <div class="music-control">
        <span class="music-title">Beautiful In White</span>
        <button id="musicToggle" class="music-btn">
            <i class="fas fa-music"></i>
        </button>
        <audio id="bgMusic" loop>
            <source src="web_music.mp3" type="audio/mpeg">
        </audio>
    </div>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-bg-effect"></div>
        <div class="hero-content">
            <div class="hero-text">
                <div class="hero-date">
                    <span class="hero-date-icon">❀</span>
                    <span>15.06.2024</span>
                </div>
                <h1>
                    <span class="hero-name">Thanh</span>
                    <span class="hero-and">&amp;</span>
                    <span class="hero-name">Thanh</span>
                    <span class="hero-flourish">❧</span>
                </h1>
                <div class="hero-subtitle">Sẽ kết hôn</div>
            </div>
            <div class="hero-photo">
                <img src="images/hero-bg.jpg" alt="Ảnh cưới" />
            </div>
        </div>
    </section>

    <!-- Couple Section -->
    <section class="couple">
        <div class="container">
            <h2>Chúng tôi</h2>
            <div class="couple-info">
                <div class="person">
                    <h3>Nguyễn Hoài Thanh</h3>
                    <p>Con trai ông bà Nguyễn Văn A & Trần Thị B</p>
                </div>
                <div class="heart"><i class="fas fa-heart"></i></div>
                <div class="person">
                    <h3>Nguyễn Hoài Thanh</h3>
                    <p>Con gái ông bà Trần Văn C & Lê Thị D</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Event Details Section -->
    <section class="event-details">
        <div class="container">
            <h2>Thông Tin Lễ Cưới</h2>
            <div class="timeline">
                <div class="event">
                    <h3>Lễ Thành Hôn</h3>
                    <p class="time">09:00 - 11:00</p>
                    <p class="location">Nhà thờ Đức Bà Sài Gòn</p>
                    <p class="address">1 Công xã Paris, Bến Nghé, Quận 1, TP.HCM</p>
                </div>
                <div class="event">
                    <h3>Tiệc Cưới</h3>
                    <p class="time">18:00 - 21:00</p>
                    <p class="location">Khách sạn Grand Palace</p>
                    <p class="address">123 Nguyễn Huệ, Quận 1, TP.HCM</p>
                </div>
            </div>
        </div>
    </section>

    <!-- RSVP Section -->
    <section class="rsvp">
        <div class="container">
            <h2>Xác Nhận Tham Dự</h2>
            <form class="rsvp-form" action="https://formspree.io/f/xdoqzqzq" method="POST">
                <input type="text" name="name" placeholder="Họ và tên" required>
                <input type="email" name="email" placeholder="Email" required>
                <input type="tel" name="phone" placeholder="Số điện thoại" required>
                <select name="guests" required>
                    <option value="">Số người tham dự</option>
                    <option value="1">1 người</option>
                    <option value="2">2 người</option>
                    <option value="3">3 người</option>
                    <option value="4">4 người</option>
                </select>
                <textarea name="message" placeholder="Lời chúc (không bắt buộc)"></textarea>
                <button type="submit">Gửi</button>
            </form>
        </div>
    </section>

    <!-- Gallery Section -->
    <section class="gallery">
        <div class="container">
            <h2>Khoảnh Khắc Đẹp</h2>
            <div class="carousel-container">
                <div class="carousel-gradient left"></div>
                <div class="carousel-gradient right"></div>
                <div class="carousel-list">
                    <div class="carousel-thumb" onclick="openImageModal('images/gallery-1.jpg', 0)">
                        <img src="images/gallery-1.jpg" alt="Khoảnh khắc đẹp 1">
                    </div>
                    <div class="carousel-thumb" onclick="openImageModal('images/gallery-2.jpg', 1)">
                        <img src="images/gallery-2.jpg" alt="Khoảnh khắc đẹp 2">
                    </div>
                    <div class="carousel-thumb" onclick="openImageModal('images/gallery-3.jpg', 2)">
                        <img src="images/gallery-3.jpg" alt="Khoảnh khắc đẹp 3">
                    </div>
                    <div class="carousel-thumb" onclick="openImageModal('images/gallery-4.jpg', 3)">
                        <img src="images/gallery-4.jpg" alt="Khoảnh khắc đẹp 4">
                    </div>
                    <div class="carousel-thumb" onclick="openImageModal('images/gallery-5.jpg', 4)">
                        <img src="images/gallery-5.jpg" alt="Khoảnh khắc đẹp 5">
                    </div>
                    <div class="carousel-thumb" onclick="openImageModal('images/gallery-6.jpg', 5)">
                        <img src="images/gallery-6.jpg" alt="Khoảnh khắc đẹp 6">
                    </div>
                    <div class="carousel-thumb" onclick="openImageModal('images/gallery-7.jpg', 6)">
                        <img src="images/gallery-7.jpg" alt="Khoảnh khắc đẹp 7">
                    </div>
                    <div class="carousel-thumb" onclick="openImageModal('images/gallery-8.jpg', 7)">
                        <img src="images/gallery-8.jpg" alt="Khoảnh khắc đẹp 8">
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="contact">
        <div class="container">
            <h2>Liên Hệ</h2>
            <div class="contact-info">
                <div class="contact-item">
                    <i class="fas fa-phone"></i>
                    <p>Chú rể: 0123 456 789</p>
                </div>
                <div class="contact-item">
                    <i class="fas fa-phone"></i>
                    <p>Cô dâu: 0987 654 321</p>
                </div>
                <div class="contact-item">
                    <i class="fas fa-envelope"></i>
                    <p>Email: wedding@example.com</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Wedding Card Generator Section -->
    <!-- <section class="wedding-card-generator">
        <div class="container">
            <h2>Tạo Thiệp Cưới Online</h2>
            <form id="cardForm" class="card-form">
                <input type="text" id="guestName" placeholder="Nhập tên người được mời" required>
                <button type="submit">Tạo Thiệp</button>
            </form>
            <div id="cardResult" class="card-result" style="display:none;">
                <div id="weddingCard" class="wedding-card-preview">
                    <div class="card-bg"></div>
                    <div class="card-content">
                        <div class="card-title">Thiệp Mời</div>
                        <div class="card-names">Trân trọng kính mời</div>
                        <div class="card-guest" id="cardGuestName"></div>
                        <div class="card-date">Ngày 15 tháng 06 năm 2024</div>
                        <div class="card-location">Tại: Nhà thờ Đức Bà Sài Gòn</div>
                        <div class="card-footer">Rất hân hạnh được đón tiếp!</div>
                    </div>
                </div>
                <button id="downloadCard" class="download-btn">Tải ảnh thiệp</button>
            </div>
        </div>
    </section> -->

    <!-- Modal for full image -->
    <div id="imageModal" class="image-modal">
        <span class="close-modal">&times;</span>
        <button class="modal-nav prev">&#10094;</button>
        <img class="modal-content" id="modalImg">
        <button class="modal-nav next">&#10095;</button>
        <div class="modal-indicator"><span id="modalCurrent">1</span> / <span id="modalTotal">4</span></div>
    </div>

    <script src="https://unpkg.com/scrollreveal"></script>
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <script>
        // Scroll Reveal
        ScrollReveal().reveal('.hero-content', { delay: 200 });
        ScrollReveal().reveal('.couple-info', { delay: 300 });
        ScrollReveal().reveal('.event', { delay: 200 });
        ScrollReveal().reveal('.rsvp-form', { delay: 300 });
        ScrollReveal().reveal('.gallery-item', { delay: 200 });
        ScrollReveal().reveal('.contact-item', { delay: 200 });

        // Music Control
        const musicBtn = document.getElementById('musicToggle');
        const bgMusic = document.getElementById('bgMusic');
        let isPlaying = false;

        // Function to toggle music
        function toggleMusic() {
            if (isPlaying) {
                bgMusic.pause();
                musicBtn.classList.remove('playing');
            } else {
                bgMusic.play();
                musicBtn.classList.add('playing');
            }
            isPlaying = !isPlaying;
        }

        // Add click event to music button
        musicBtn.addEventListener('click', toggleMusic);

        // Auto play music when user interacts with the page
        document.addEventListener('click', function initAudio() {
            if (!isPlaying) {
                toggleMusic();
            }
            document.removeEventListener('click', initAudio);
        }, { once: true });

        // Horizontal auto-scroll for carousel-list
        const carouselList = document.querySelector('.carousel-list');
        let scrollInterval;
        let marqueePaused = false;
        function startMarqueeScroll() {
            scrollInterval = setInterval(() => {
                if (marqueePaused) return;
                if (carouselList.scrollLeft + carouselList.offsetWidth >= carouselList.scrollWidth - 2) {
                    carouselList.scrollTo({ left: 0, behavior: 'auto' });
                } else {
                    carouselList.scrollLeft += 1.2; // smooth, slow marquee
                }
            }, 16); // ~60fps
        }
        function stopMarqueeScroll() {
            clearInterval(scrollInterval);
        }
        carouselList.addEventListener('mouseenter', () => { marqueePaused = true; });
        carouselList.addEventListener('mouseleave', () => { marqueePaused = false; });
        startMarqueeScroll();

        // Modal gallery logic
        const galleryImages = [
            'images/gallery-1.jpg',
            'images/gallery-2.jpg',
            'images/gallery-3.jpg',
            'images/gallery-4.jpg',
            'images/gallery-5.jpg',
            'images/gallery-6.jpg',
            'images/gallery-7.jpg',
            'images/gallery-8.jpg'
        ];
        let currentModalIndex = 0;
        // Khi mở modal thì dừng marquee
        function openImageModal(src, idx) {
            marqueePaused = true;
            const modal = document.getElementById('imageModal');
            const modalImg = document.getElementById('modalImg');
            modal.style.display = 'flex';
            modalImg.src = src;
            currentModalIndex = idx;
            document.getElementById('modalCurrent').textContent = idx + 1;
            document.getElementById('modalTotal').textContent = galleryImages.length;
        }
        document.querySelector('.close-modal').onclick = function() {
            document.getElementById('imageModal').style.display = 'none';
            marqueePaused = false;
        };
        document.getElementById('imageModal').onclick = function(e) {
            if (e.target === this) {
                this.style.display = 'none';
                marqueePaused = false;
            }
        };
        document.querySelector('.modal-nav.prev').onclick = function(e) {
            e.stopPropagation();
            currentModalIndex = (currentModalIndex - 1 + galleryImages.length) % galleryImages.length;
            document.getElementById('modalImg').src = galleryImages[currentModalIndex];
            document.getElementById('modalCurrent').textContent = currentModalIndex + 1;
        };
        document.querySelector('.modal-nav.next').onclick = function(e) {
            e.stopPropagation();
            currentModalIndex = (currentModalIndex + 1) % galleryImages.length;
            document.getElementById('modalImg').src = galleryImages[currentModalIndex];
            document.getElementById('modalCurrent').textContent = currentModalIndex + 1;
        };

        // Wedding Card Generator
        const cardForm = document.getElementById('cardForm');
        const cardResult = document.getElementById('cardResult');
        const cardGuestName = document.getElementById('cardGuestName');
        const weddingCard = document.getElementById('weddingCard');
        const downloadCard = document.getElementById('downloadCard');
        if(cardForm) {
            cardForm.onsubmit = function(e) {
                e.preventDefault();
                const name = document.getElementById('guestName').value.trim();
                if(name) {
                    cardGuestName.textContent = name;
                    cardResult.style.display = 'block';
                    setTimeout(() => weddingCard.scrollIntoView({behavior:'smooth'}), 200);
                }
            };
            downloadCard.onclick = function() {
                html2canvas(weddingCard, {backgroundColor: null}).then(canvas => {
                    const link = document.createElement('a');
                    link.download = 'thiep-moi.png';
                    link.href = canvas.toDataURL();
                    link.click();
                });
            };
        }

        // Initialize
        updateCarousel();

        // Hero background effect (floating petals)
        function createPetal() {
            const petal = document.createElement('div');
            petal.className = 'petal';
            petal.style.left = Math.random() * 100 + 'vw';
            petal.style.animationDuration = 4 + Math.random() * 4 + 's';
            petal.style.opacity = 0.5 + Math.random() * 0.5;
            document.querySelector('.hero-bg-effect').appendChild(petal);
            setTimeout(() => petal.remove(), 8000);
        }
        setInterval(createPetal, 600);
        for (let i = 0; i < 10; i++) createPetal();
    </script>
</body>
</html>